* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background: linear-gradient(to bottom,
            #0a0a1a 0%,
            #1a1a3a 40%,
            #2a3a4a 70%,
            #1a2a3a 100%);
    min-height: 100vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    perspective: 1500px;
    font-family: 'Mountains of Christmas', cursive;
}

.stars-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
}

.bg-star {
    position: absolute;
    width: calc(var(--size, 2) * 1px);
    height: calc(var(--size, 2) * 1px);
    background: white;
    border-radius: 50%;
    animation: twinkleBg 2s ease-in-out infinite alternate;
}

@keyframes twinkleBg {
    0% {
        opacity: 0.3;
        transform: scale(1);
    }

    100% {
        opacity: 1;
        transform: scale(1.2);
    }
}

.title {
    position: fixed;
    top: 3vh;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 100;
    animation: fadeInDown 2s ease-out forwards;
}

.title-line {
    display: block;
    font-family: 'Great Vibes', cursive;
    font-size: clamp(2.5rem, 8vw, 6rem);
    color: #fff;
    text-shadow:
        0 0 10px #ff6b6b,
        0 0 20px #ff6b6b,
        0 0 30px #ff0000,
        0 0 40px #ff0000,
        2px 2px 4px rgba(0, 0, 0, 0.5);
    letter-spacing: 2px;
}

.subtitle {
    display: block;
    font-family: 'Mountains of Christmas', cursive;
    font-size: clamp(1rem, 3vw, 1.8rem);
    color: #90EE90;
    text-shadow:
        0 0 10px #00ff00,
        0 0 20px rgba(0, 255, 0, 0.5);
    margin-top: 0.5rem;
    animation: glow 2s ease-in-out infinite alternate;
}

@keyframes fadeInDown {
    0% {
        opacity: 0;
        transform: translateX(-50%) translateY(-30px);
    }

    100% {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

@keyframes glow {
    0% {
        text-shadow: 0 0 10px #00ff00, 0 0 20px rgba(0, 255, 0, 0.5);
    }

    100% {
        text-shadow: 0 0 20px #00ff00, 0 0 40px rgba(0, 255, 0, 0.8), 0 0 60px rgba(0, 255, 0, 0.4);
    }
}

.top-star {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) translateY(-42vmin);
    font-size: clamp(3rem, 8vw, 5rem);
    z-index: 50;
    animation: starPulse 1.5s ease-in-out infinite alternate, starGlow 0.5s ease-in-out infinite;
    filter: drop-shadow(0 0 20px #ffd700) drop-shadow(0 0 40px #ffaa00);
}

@keyframes starPulse {
    0% {
        transform: translate(-50%, -50%) translateY(-42vmin) scale(1) rotate(0deg);
    }

    100% {
        transform: translate(-50%, -50%) translateY(-42vmin) scale(1.15) rotate(10deg);
    }
}

@keyframes starGlow {

    0%,
    100% {
        filter: drop-shadow(0 0 20px #ffd700) drop-shadow(0 0 40px #ffaa00);
    }

    50% {
        filter: drop-shadow(0 0 30px #fff) drop-shadow(0 0 60px #ffd700);
    }
}

.tree {
    position: relative;
    width: 0;
    height: 0;
    transform-style: preserve-3d;
    animation: rotateTree 25s linear infinite;
    top: 12vh;
    z-index: 10;
}

@keyframes rotateTree {
    0% {
        transform: rotateY(0deg);
    }

    100% {
        transform: rotateY(360deg);
    }
}

.ornament {
    position: absolute;
    --ratio: calc(var(--i) / var(--n));
    --turns: 10;
    --angle: calc(var(--i) * 360deg / var(--n) * var(--turns));
    --radius: calc(38vmin * (1 - var(--ratio)));
    --height: calc(75vmin * var(--ratio) - 37vmin);
    --base-size: calc(6px + 6px * var(--size, 1));

    width: var(--base-size);
    height: var(--base-size);
    border-radius: 50%;

    transform:
        rotateY(var(--angle)) translateZ(var(--radius)) translateY(calc(-1 * var(--height)));

    animation: twinkleOrnament 2s ease-in-out infinite;
    animation-delay: calc(var(--i) * -0.03s);
}

.ornament {
    --hue-map: calc(var(--color-type) * 0 + (1 - min(var(--color-type), 1)) * 45 + min(var(--color-type), 1) * max(0, 1 - var(--color-type)) * 0);

    background:
        radial-gradient(circle at 30% 30%,
            rgba(255, 255, 255, 0.8),
            transparent 50%),
        hsl(calc(var(--color-type) * 72), 100%, 50%);

    box-shadow:
        0 0 10px hsl(calc(var(--color-type) * 72), 100%, 50%),
        0 0 20px hsl(calc(var(--color-type) * 72), 100%, 40%),
        inset 0 0 5px rgba(255, 255, 255, 0.3);
}

@keyframes twinkleOrnament {

    0%,
    100% {
        opacity: 0.9;
        transform: rotateY(var(--angle)) translateZ(var(--radius)) translateY(calc(-1 * var(--height))) scale(1);
    }

    50% {
        opacity: 1;
        transform: rotateY(var(--angle)) translateZ(var(--radius)) translateY(calc(-1 * var(--height))) scale(1.3);
    }
}

.garland-light {
    position: absolute;
    --ratio: calc(var(--i) / var(--n));
    --turns: 6;
    --angle: calc(var(--i) * 360deg / var(--n) * var(--turns));
    --radius: calc(40vmin * (1 - var(--ratio)) + 3px);
    --height: calc(75vmin * var(--ratio) - 37vmin);

    width: 8px;
    height: 12px;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;

    transform:
        rotateY(var(--angle)) translateZ(var(--radius)) translateY(calc(-1 * var(--height)));

    animation: blinkLight 0.8s ease-in-out infinite;
    animation-delay: calc(var(--i) * 0.1s);
}

.garland-light {
    --light-hues: calc((1 - min(var(--light-color), 1)) * 0 + min(var(--light-color), 1) * max(0, 2 - var(--light-color)) * 60 + min(var(--light-color), 2) * max(0, var(--light-color) - 1) * min(1, 3 - var(--light-color)) * 120 + min(var(--light-color), 3) * max(0, var(--light-color) - 2) * 240);

    background: hsl(calc(var(--light-color) * 90), 100%, 50%);
    box-shadow:
        0 0 15px hsl(calc(var(--light-color) * 90), 100%, 50%),
        0 0 30px hsl(calc(var(--light-color) * 90), 100%, 50%);
}

@keyframes blinkLight {

    0%,
    100% {
        opacity: 1;
        filter: brightness(1.5);
    }

    50% {
        opacity: 0.4;
        filter: brightness(0.8);
    }
}

.snow {
    position: fixed;
    top: -20px;
    width: calc(var(--size, 4) * 1px);
    height: calc(var(--size, 4) * 1px);
    background: radial-gradient(circle, #fff 0%, rgba(255, 255, 255, 0.8) 50%, transparent 100%);
    border-radius: 50%;
    animation: snowFall linear infinite;
    pointer-events: none;
    z-index: 200;
}

@keyframes snowFall {
    0% {
        transform: translateY(-10vh) rotate(0deg);
        opacity: 1;
    }

    100% {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0.6;
    }
}

.ground {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 15vh;
    background: linear-gradient(to bottom,
            transparent 0%,
            rgba(255, 255, 255, 0.1) 20%,
            rgba(255, 255, 255, 0.3) 60%,
            rgba(200, 220, 255, 0.5) 100%);
    border-radius: 50% 50% 0 0 / 30% 30% 0 0;
    z-index: 5;
}

.gifts {
    position: fixed;
    bottom: 8vh;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 2rem;
    z-index: 20;
}

.gift {
    font-size: clamp(2rem, 5vw, 3.5rem);
    animation: giftBounce 2s ease-in-out infinite;
    filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.5));
}

.gift-1 {
    animation-delay: 0s;
}

.gift-2 {
    animation-delay: 0.3s;
}

.gift-3 {
    animation-delay: 0.6s;
}

@keyframes giftBounce {

    0%,
    100% {
        transform: translateY(0) rotate(-5deg);
    }

    50% {
        transform: translateY(-10px) rotate(5deg);
    }
}

@media (max-width: 600px) {
    .tree {
        top: 18vh;
    }

    .top-star {
        transform: translate(-50%, -50%) translateY(-38vmin);
    }

    .ornament {
        --radius: calc(32vmin * (1 - var(--ratio)));
        --height: calc(65vmin * var(--ratio) - 32vmin);
    }

    .garland-light {
        --radius: calc(34vmin * (1 - var(--ratio)) + 3px);
        --height: calc(65vmin * var(--ratio) - 32vmin);
    }
}